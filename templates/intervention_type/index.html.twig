{% extends 'base.html.twig' %}

{% block title %}Types d'intervention
{% endblock %}

{% block body %}
	<div class="mb-10 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
		<h1 class="text-3xl font-bold text-slate-800">Types d'intervention</h1>
		<a href="#" class="bg-slate-700 text-white font-medium px-6 py-2.5 rounded-md hover:bg-slate-800 transition shadow-sm">
			Ajouter un type
		</a>
	</div>

	{# Filter Section #}
	<div class="mb-10">
		<h2 class="text-amber-400 text-xl font-bold mb-4">Filtres</h2>

		{{ form_start(form, {'attr': {'class': 'w-full'}}) }}
		<div class="flex items-end gap-x-4 max-w-2xl">
			<div class="flex-grow">
				{{ form_row(form.name, {'attr': {'class': 'w-full border-gray-200 rounded-md focus:ring-amber-400 focus:border-amber-400', 'placeholder': 'Saisissez le nom'}}) }}
			</div>
			<button type="submit" class="bg-amber-400 text-slate-900 font-bold px-10 py-2.5 rounded-md hover:bg-amber-500 transition shadow-sm h-[42px] mb-px">
				Filtrer
			</button>
		</div>
		{{ form_end(form) }}

		<div class="border-b-2 border-amber-100/50 mt-8 w-full"></div>
	</div>

	{# Results Section #}
	<div>
		<h3 class="text-xl font-bold mb-6 text-slate-900">{{ interventionType.getTotalItemCount }}
			types</h3>

		<div
			class="bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100">
			{# Table Header #}
			<div class="grid grid-cols-12 gap-4 px-6 py-4 text-sm font-semibold text-gray-500 bg-gray-50/50 border-b border-gray-100">
				<div class="col-span-3">Nom</div>
				<div class="col-span-4">Descriptif</div>
				<div class="col-span-2">Couleur</div>
				<div class="col-span-3"></div>
			</div>

			{# Items #}
			{% for item in interventionType %}
				<div class="grid grid-cols-12 gap-4 px-6 py-5 items-center bg-white border-b border-gray-100 last:border-0 hover:bg-gray-50/50 transition">
					<div class="col-span-3 font-medium text-slate-900">{{ item.name }}</div>
					<div class="col-span-4 text-slate-600">{{ item.description }}</div>
					<div class="col-span-2 font-medium" style="color: {{ item.color }}">{{ item.color }}</div>
					<div class="col-span-3 flex justify-end">
						<a href="#" class="inline-flex items-center text-slate-900 font-medium hover:text-slate-700 transition group">
							<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2 text-slate-900 group-hover:text-slate-700">
								<path d="M12 15a3 3 0 100-6 3 3 0 000 6z"/>
								<path fill-rule="evenodd" d="M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z" clip-rule="evenodd"/>
							</svg>
							Accèder à la fiche
						</a>
					</div>
				</div>
			{% else %}
				<div class="px-6 py-12 text-center text-gray-500">
					Aucun résultat trouvé
				</div>
			{% endfor %}
		</div>

		<div class="mt-8 flex justify-center">
			{{ knp_pagination_render(interventionType, 'pagination/knp_pagination.html.twig') }}
		</div>
	</div>
{% endblock %}
