{% extends 'base.html.twig' %}

{% block title %}Types d'intervention
{% endblock %}

{% block body %}
	<div class="flex-1 p-8 bg-gray-50">

		<div class="flex justify-between items-center mb-8">
			<h1 class="text-2xl font-bold text-gray-800">Types d'intervention</h1>
			<twig:Button variant="blue" label="Ajouter un type" href="{{ path('app_interventionType_new') }}"/>
		</div>


		<div class="mb-8">
			<h2 class="text-amber-500 font-semibold mb-4">Filtres</h2>
			{{ form_start(form, {'attr': {'class': 'flex flex-wrap items-end gap-4'}}) }}
			<div class="flex-1 min-w-48">
				{{ form_label(form.name)}}
				{{ form_widget(form.name) }}
			</div>
			<div class="min-w-48">
				<twig:Button type="submit" variant="yellow" label="Filtrer"/>
			</div>

			{{ form_end(form, {'render_rest': false}) }}
		</div>


		<hr class="border-gray-200 mb-6">

		<div>
			<h2 class="text-lg font-semibold text-gray-800 mb-4">{{ interventionType|length }}
				type{{ interventionType|length > 1 ? 's' : '' }}</h2>

			<div class="bg-white rounded-lg shadow-sm overflow-hidden">
				<table class="w-full">
					<thead>
						<tr class="bg-[#F1F2F799] border-b border-gray-200">
							<th class="text-left py-4 px-6 text-sm font-semibold text-gray-600">Nom</th>
							<th class="text-left py-4 px-6 text-sm font-semibold text-gray-600">Descriptif</th>
							<th class="text-left py-4 px-6 text-sm font-semibold text-gray-600">Couleur</th>
							<th class="text-left py-4 px-6 text-sm font-semibold text-gray-600"></th>
						</tr>
					</thead>
					<tbody>
						{% for type in interventionType %}
							<tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors">
								<td class="py-4 px-6 text-gray-800">{{ type.name }}</td>
								<td class="py-4 px-6 text-gray-600 text-sm">{{ type.description ?: '-' }}</td>
								<td class="py-4 px-6">
									<span class="text-sm font-medium" style="color: {{ type.color }};">{{ type.color }}</span>
								</td>
								<td class="py-4 px-6">
									<a href="{{ path('app_interventionType_edit', {'id': type.id}) }}" class="inline-flex items-center gap-2 text-gray-500 hover:text-amber-500 transition-colors text-sm">
										<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
											<circle cx="12" cy="12" r="3"></circle>
										</svg>
										Accéder à la fiche
									</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="4" class="py-8 px-6 text-center text-gray-500">Aucun type d'intervention trouvé</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>

			<div class="pagination">
				{{ knp_pagination_render(interventionType, 'pagination/knp_pagination.html.twig') }}
			</div>
		</div>
	{% endblock %}
